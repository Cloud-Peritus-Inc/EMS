<template>
    <template lwc:if={kraRecord}>
        <lightning-card>
            <lightning-progress-indicator current-step={selectedStep} type="path" variant="base">
                <template for:each={steps} for:item="step">
                    <lightning-progress-step id={step.value} label={step.label} value={step.value} key={step.label}
                        onclick={stepSelectionHanler}></lightning-progress-step>
                </template>
            </lightning-progress-indicator>
        </lightning-card>

    <!-- <template lwc:if={kraRecord}> -->

        <!-- REVIEWER DETAILS SECTION-->
        <template lwc:if={showReviewerDetails}>
            <div class="pointerTableContainer">
                <div class="section1" data-reviewer-details>
                    <lightning-layout multiple-rows class="slds-theme_shade">
                        <lightning-layout-item padding="around-small" size="8">

                            <lightning-layout multiple-rows>

                                <lightning-layout-item padding="around-small" size="6">
                                    <div>
                                        <p>Review Type</p>
                                    </div>
                                </lightning-layout-item>
                                <lightning-layout-item padding="around-small" size="6">
                                    <div>
                                        <lightning-input required type="text" variant="label-hidden" label="Review Type"
                                            name="Review_Type__c" value="KRA Review"
                                            disabled='true'
                                            onchange={handleChange}></lightning-input>
                                    </div>
                                </lightning-layout-item>

                                <lightning-layout-item padding="around-small" size="6">
                                    <div>
                                        <p>Reviewer Name</p>
                                    </div>
                                </lightning-layout-item>
                                <lightning-layout-item padding="around-small" size="6">
                                    <div>
                                        <lightning-input required type="text" variant="label-hidden" label="Reviewer Name"
                                            name="Reviewer_Name__c" value={currentContactName}
                                            disabled='true'
                                            onchange={handleChange}></lightning-input>
                                    </div>
                                </lightning-layout-item>

                                <lightning-layout-item padding="around-small" size="6">
                                    <div>
                                        <p>Reviewer Title</p>
                                    </div>
                                </lightning-layout-item>
                                <lightning-layout-item padding="around-small" size="6">
                                    <div>
                                        <lightning-input required="true" type="text" variant="label-hidden" label="Reviewer Title"
                                            name="Reviewer_Title__c" value={currentContactResourceRole}
                                            disabled='true'
                                            onchange={handleChange}></lightning-input>
                                    </div>
                                </lightning-layout-item>

                                <lightning-layout-item padding="around-small" size="6">
                                    <div>
                                        <p>Date of Review</p>
                                    </div>
                                </lightning-layout-item>
                                <lightning-layout-item padding="around-small" size="6">
                                    <div>
                                        <lightning-input required timezone={userTimeZone} type="date" variant="label-hidden"
                                            label="Date of Review" name="Date_of_Review__c"
                                            value={kraRecord.Date_of_Review__c} disabled={isFieldsDisabled}
                                            onchange={handleChange}></lightning-input>
                                    </div>
                                </lightning-layout-item>
                            </lightning-layout>

                        </lightning-layout-item>
                    </lightning-layout> 
                </div>

                <div class="section2">
                    <lightning-layout multiple-rows class="slds-theme_shade">
                        <lightning-layout-item size="12">
                            <h6>Measures of performance</h6>
                        </lightning-layout-item>
                    </lightning-layout>
                    <lightning-layout multiple-rows class="slds-theme_shade">
                        <lightning-layout-item padding="around-small" size="12">
                            <table
                                class="pointerTable slds-table slds-table_cell-buffer slds-table_bordered slds-table_col-bordered"
                                aria-labelledby="element-with-table-label other-element-with-table-label">
                                <thead>
                                    <tr class="slds-line-height_reset">
                                        <th class="" scope="col">
                                            <div class="slds-truncate" title="Rating Score">Rating Score</div>
                                        </th>
                                        <th class="" scope="col">
                                            <div class="slds-truncate" title="Description">Description</div>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="slds-hint-parent">
                                        <th data-label="Rating Score" scope="row">
                                            <div class="slds-truncate" title="1">
                                                <a href="javascript:void(0)">1</a>
                                            </div>
                                        </th>
                                        <td data-label="Unacceptable">
                                            <div class="slds-truncate">Unacceptable</div>
                                        </td>
                                    </tr>
                                    <tr class="slds-hint-parent">
                                        <th data-label="2" scope="row">
                                            <div class="slds-truncate" title="2">
                                                <a href="javascript:void(0)">2</a>
                                            </div>
                                        </th>
                                        <td data-label="Needs Improvement">
                                            <div class="slds-truncate">Needs Improvement</div>
                                        </td>
                                    </tr>
                                    <tr class="slds-hint-parent">
                                        <th data-label="3" scope="row">
                                            <div class="slds-truncate" title="3">
                                                <a href="javascript:void(0)">3</a>
                                            </div>
                                        </th>
                                        <td data-label="Meets Expectations">
                                            <div class="slds-truncate">Meets Expectations</div>
                                        </td>
                                    </tr>
                                    <tr class="slds-hint-parent">
                                        <th data-label="4" scope="row">
                                            <div class="slds-truncate" title="4">
                                                <a href="javascript:void(0)">4</a>
                                            </div>
                                        </th>
                                        <td data-label="Exceeds Expectations">
                                            <div class="slds-truncate">Exceeds Expectations</div>
                                        </td>
                                    </tr>

                                    <tr class="slds-hint-parent">
                                        <th data-label="5" scope="row">
                                            <div class="slds-truncate" title="5">
                                                <a href="javascript:void(0)">5</a>
                                            </div>
                                        </th>
                                        <td data-label="Far Exceeds">
                                            <div class="slds-truncate">Far Exceeds</div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </lightning-layout-item>
                    </lightning-layout>
                </div>
            </div>
            <br>
            <footer class="section1">
                <lightning-button variant="" label="Next"  onclick={handleNextAction} class="slds-var-m-left_x-small"></lightning-button>
            </footer>
        </template>
        <!-- REVIEWER DETAILS SECTION-->

        <!-- TECHNICAL ACUMEN SECTION -->
        <template lwc:if={showTechnicalAcumen}>
            <div class="pointerTableContainer2">
                <div class="section3" data-technical-acumen >
                    <lightning-layout class="slds-theme_shade">
                        <table class="slds-table slds-table_bordered slds-table_col-bordered slds-table_cell-buffer slds-table_fixed-layout">
                            <thead>
                                <tr class="slds-line-height_reset">
                                    <th scope="col" class="R1" >
                                        <div class="slds-truncate slds-text-heading_small" title="Question">Questions</div>
                                    </th>
                                    <th scope="col" class="R2">
                                        <div class="slds-truncate slds-text-heading_small" title="Rating">Ratings</div>
                                    </th>
                                    <th scope="col" class="R3">
                                        <div class="slds-truncate slds-text-heading_small" title="Description">Description</div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <template for:each={techSkillsMap} for:item="key">
                                    <tr key={key.Id}>
                                        <th scope="row" class="colRow">
                                            <div class="slds-truncate" title={key.Related_Question__r.Question__c}>
                                                {key.Related_Question__r.Question__c}
                                            </div>
                                        </th>
                                        <td class="colRow">
                                            <lightning-record-edit-form record-id={key.Id} object-api-name="PM_Configure__c" density="compact"
                                                onsuccess={handleSuccessForPMAnswers} onerror={handleErrors}>
                                                <div class="fieldsRow">
                                                    <lightning-helptext content={key.Related_Question__r.Rating_overview__c}></lightning-helptext>
                                                    <lightning-input-field disabled={isFieldsDisabled} type="number" min="1" max="5" step="0.5"
                                                        variant="label-inline" field-name="Rating__c" value={key.Rating__c} required
                                                        onchange={handleRatingChange}></lightning-input-field>
                                                </div>
                                            </lightning-record-edit-form>
                                        </td>
                                        <td class="colRow">
                                            <lightning-record-edit-form record-id={key.Id} object-api-name="PM_Configure__c" density="compact" onsuccess={handleSuccessForPMAnswers} onerror={handleErrors}>
                                                <div class="fieldsRow">
                                                <lightning-helptext content={key.Related_Question__r.Question_overview__c} ></lightning-helptext>
                                                <lightning-input-field disabled={isFieldsDisabled} variant="label-inline" field-name="Description__c" value={key.Description__c} required></lightning-input-field>
                                            </div>
                                            </lightning-record-edit-form>
                                            
                                        </td>                                       

                                    </tr>
                                </template>
                            </tbody>
                        </table>
                    </lightning-layout>
                </div>

                <div class="footer">
                    <lightning-layout multiple-rows size='12' class="footer-layout">
                        <lightning-layout-item padding="around-small" size="3">
                            <lightning-button variant="" label="Previous" onclick={handlePreviousAction}></lightning-button>
                        </lightning-layout-item>
                
                        <lightning-layout-item padding="around-small" size="3">
                            <lightning-button variant="brand" label="Save" onclick={handleSaveActionDuplicate}
                                disabled={isSaveBtnDisabled} class={showSaveSubmitButtonsVisibility}></lightning-button>
                        </lightning-layout-item>
                
                        <lightning-layout-item padding="around-small" size="3">
                            <lightning-button variant="" label="Save & Next" onclick={handleNextAction}></lightning-button>
                        </lightning-layout-item>
                    </lightning-layout>
                </div>

            </div>
        </template>
        <!-- TECHNICAL ACUMEN SECTION -->

        <!-- PROFESSIONAL SKILLS SECTION -->
        <template lwc:if={showProfessionalSkills}>
            <div class="pointerTableContainer2">
                <div class="section3" data-professional-skills>
                    <lightning-layout class="slds-theme_shade">
                        <table class="slds-table slds-table_bordered slds-table_col-bordered slds-table_cell-buffer slds-table_fixed-layout">
                            <thead>
                                <tr class="slds-line-height_reset">
                                    <th scope="col" class="R1">
                                        <div class="slds-truncate" title="Question">Questions</div>
                                    </th>
                                    <th scope="col" class="R2">
                                        <div class="slds-truncate" title="Rating">Ratings</div>
                                    </th>
                                    <th scope="col" class="R3">
                                        <div class="slds-truncate" title="Description">Description</div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <template for:each={profSkillsMap} for:item="key">
                                    <tr key={key.Id}>
                                        <th scope="row" class="colRow">
                                            <div class="slds-truncate" title={key.Related_Question__r.Question__c}>
                                                {key.Related_Question__r.Question__c}
                                            </div>
                                        </th>
                                        <td class="colRow">
                                            <lightning-record-edit-form record-id={key.Id} object-api-name="PM_Configure__c" density="compact" onsuccess={handleSuccessForPMAnswers} onerror={handleErrors}>
                                                <div class="fieldsRow">
                                                    <lightning-helptext content={key.Related_Question__r.Rating_overview__c} ></lightning-helptext>
                                                    <lightning-input-field disabled={isFieldsDisabled} type="number" min="1" max="5" step="0.5" variant="label-inline" field-name="Rating__c" value={key.Rating__c} required onchange={handleRatingChange}></lightning-input-field>
                                                </div>
                                            </lightning-record-edit-form>
                                        </td>
                                        <td class="colRow">
                                            <lightning-record-edit-form record-id={key.Id} object-api-name="PM_Configure__c" density="compact" onsuccess={handleSuccessForPMAnswers} onerror={handleErrors}>
                                                <div class="fieldsRow">
                                                <lightning-helptext content={key.Related_Question__r.Question_overview__c} ></lightning-helptext>
                                                <lightning-input-field disabled={isFieldsDisabled} variant="label-inline" field-name="Description__c" value={key.Description__c} required></lightning-input-field>
                                                </div>
                                            </lightning-record-edit-form>
                                        </td>
                                    </tr>
                                </template>
                            </tbody>
                        </table>
                    </lightning-layout>

                </div>

                <div class="footer">
                    <lightning-layout multiple-rows size='12' class="footer-layout">
                        <lightning-layout-item padding="around-small" size="3">
                            <lightning-button variant="" label="Previous" onclick={handlePreviousAction}></lightning-button>
                        </lightning-layout-item>
                
                        <lightning-layout-item padding="around-small" size="3">
                            <lightning-button variant="brand" label="Save" onclick={handleSaveActionDuplicate}
                                disabled={isSaveBtnDisabled} class={showSaveSubmitButtonsVisibility}></lightning-button>
                        </lightning-layout-item>
                
                        <lightning-layout-item padding="around-small" size="3">
                            <lightning-button variant="" label="Save & Next" onclick={handleNextAction}></lightning-button>
                        </lightning-layout-item>
                    </lightning-layout>
                </div>

            </div>
        </template>
        <!-- PROFESSIONAL SKILLS SECTION -->

        <!-- STRATEGIC IMPACT SECTION -->
        <template lwc:if={showStrategicImpact}>
            <div class="pointerTableContainer2">
                <div class="section3" data-strategic-impact>
                    <lightning-layout  class="slds-theme_shade">
                        <table class="slds-table slds-table_bordered slds-table_col-bordered slds-table_cell-buffer slds-table_fixed-layout">
                            <thead>
                                <tr class="slds-line-height_reset">
                                    <th scope="col" class="R1">
                                        <div class="slds-truncate" title="Question">Questions</div>
                                    </th>
                                    <th scope="col" class="R2">
                                        <div class="slds-truncate" title="Rating">Ratings</div>
                                    </th>
                                    <th scope="col" class="R3">
                                        <div class="slds-truncate" title="Description">Description</div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <template for:each={stratImpactSkillsMap} for:item="key">
                                    <tr key={key.Id}>
                                        <th scope="row" class="colRow">
                                            <div class="slds-truncate" title={key.Related_Question__r.Question__c}>
                                                {key.Related_Question__r.Question__c}
                                            </div>
                                        </th>
                                        <td class="colRow">
                                            <lightning-record-edit-form record-id={key.Id} object-api-name="PM_Configure__c" density="compact" onsuccess={handleSuccessForPMAnswers} onerror={handleErrors}>
                                                <div class="fieldsRow">
                                                <lightning-helptext content={key.Related_Question__r.Rating_overview__c} ></lightning-helptext>
                                                <lightning-input-field disabled={isFieldsDisabled} type="number" min="1" max="5" step="0.5" variant="label-inline" field-name="Rating__c" value={key.Rating__c} required onchange={handleRatingChange}></lightning-input-field>
                                            </div>
                                            </lightning-record-edit-form>
                                        </td>
                                        <td class="colRow">
                                            <lightning-record-edit-form record-id={key.Id} object-api-name="PM_Configure__c" density="compact" onsuccess={handleSuccessForPMAnswers} onerror={handleErrors}>
                                                <div class="fieldsRow">
                                                    <lightning-helptext content={key.Related_Question__r.Question_overview__c}></lightning-helptext>
                                                    <lightning-input-field disabled={isFieldsDisabled} variant="label-inline" field-name="Description__c" value={key.Description__c} required></lightning-input-field>
                                                </div>
                                            </lightning-record-edit-form>
                                        </td>
                                    </tr>
                                </template>
                            </tbody>
                        </table>
                    </lightning-layout>
                </div>

                <div class="footer">
                    <lightning-layout multiple-rows size='12' class="footer-layout">
                        <lightning-layout-item padding="around-small" size="3">
                            <lightning-button variant="" label="Previous" onclick={handlePreviousAction}></lightning-button>
                        </lightning-layout-item>
                
                        <lightning-layout-item padding="around-small" size="3">
                            <lightning-button variant="brand" label="Save" onclick={handleSaveActionDuplicate}
                                disabled={isSaveBtnDisabled} class={showSaveSubmitButtonsVisibility}></lightning-button>
                        </lightning-layout-item>
                
                        <lightning-layout-item padding="around-small" size="3">
                            <lightning-button variant="" label="Save & Next" onclick={handleNextAction}></lightning-button>
                        </lightning-layout-item>
                    </lightning-layout>
                </div>

            </div>
        </template>
        <!-- STRATEGIC IMPACT SECTION -->

        <!-- GOALS AND RESULTS SECTION -->
        <template lwc:if={showGoalsResults}>
            <div class="pointerTableContainer2">
                
                <div class="section3" data-goals-results>
                    <lightning-layout class="slds-theme_shade">
                        <table class="slds-table slds-table_bordered slds-table_col-bordered slds-table_cell-buffer slds-table_fixed-layout">
                            <thead>
                                <tr class="slds-line-height_reset">
                                    <th scope="col" class="R1">
                                        <div class="slds-truncate" title="Question">Questions</div>
                                    </th>
                                    <th scope="col" class="R2">
                                        <div class="slds-truncate" title="Rating">Ratings</div>
                                    </th>
                                    <th scope="col" class="R3">
                                        <div class="slds-truncate" title="Description">Description</div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <template for:each={goalsResultsSkillsMap} for:item="key">
                                    <tr key={key.Id}>
                                        <th scope="row" class="colRow">
                                            <div class="slds-truncate" title={key.Related_Question__r.Question__c}>
                                                {key.Related_Question__r.Question__c}
                                            </div>
                                        </th>
                                        <td class="colRow">
                                            <lightning-record-edit-form record-id={key.Id} object-api-name="PM_Configure__c" density="compact" onsuccess={handleSuccessForPMAnswers} onerror={handleErrors}>
                                                <div class="fieldsRow">
                                                <lightning-helptext content={key.Related_Question__r.Rating_overview__c} ></lightning-helptext>
                                                <lightning-input-field disabled={isFieldsDisabled} type="number" min="1" max="5" step="0.5" variant="label-inline" field-name="Rating__c" value={key.Rating__c} required onchange={handleRatingChange}></lightning-input-field>
                                            </div>
                                            </lightning-record-edit-form>
                                        </td>
                                        <td class="colRow">
                                            <lightning-record-edit-form record-id={key.Id} object-api-name="PM_Configure__c" density="compact" onsuccess={handleSuccessForPMAnswers} onerror={handleErrors}>
                                                <div class="fieldsRow">
                                                <lightning-helptext content={key.Related_Question__r.Question_overview__c} ></lightning-helptext>
                                                <lightning-input-field disabled={isFieldsDisabled} variant="label-inline" field-name="Description__c" value={key.Description__c} required></lightning-input-field>
                                            </div>
                                            </lightning-record-edit-form>
                                        </td>
                                    </tr>
                                </template>
                            </tbody>
                        </table>
                    </lightning-layout>
                </div>

                <div class="footer">
                    <lightning-layout multiple-rows size='12' class="footer-layout">
                        <lightning-layout-item padding="around-small" size="3">
                            <lightning-button variant="" label="Previous" onclick={handlePreviousAction}></lightning-button>
                        </lightning-layout-item>
                
                        <lightning-layout-item padding="around-small" size="3">
                            <lightning-button variant="brand" label="Save" onclick={handleSaveActionDuplicate}
                                disabled={isSaveBtnDisabled} class={showSaveSubmitButtonsVisibility}></lightning-button>
                        </lightning-layout-item>
                
                        <lightning-layout-item padding="around-small" size="3">
                            <lightning-button variant="" label="Save & Next" onclick={handleNextAction}></lightning-button>
                        </lightning-layout-item>
                    </lightning-layout>
                </div>

            </div>
        </template>
        <!-- GOALS AND RESULTS SECTION -->

        <!-- OVERALL RATING SECTION -->
        <template lwc:if={showOverAllRating}>
            <div class="pointerTableContainer2">
                
                <div class="ratingSection">
                    <lightning-layout multiple-rows class="slds-theme_shade">
                        <lightning-layout-item padding="around-small" size="12">
                            <table
                                class="pointerTable slds-table slds-table_cell-buffer slds-table_bordered slds-table_col-bordered"
                                aria-labelledby="element-with-table-label other-element-with-table-label">
                                <thead>
                                    <tr class="slds-line-height_reset">
                                        <th class="" scope="col">
                                            <div class="slds-truncate" title="Section Name">Section Name</div>
                                        </th>
                                        <th class="" scope="col">
                                            <div class="slds-truncate" title="Average Rating">Average Rating (Weightage)</div>
                                        </th>
                                    </tr>
                                </thead>

                                <template lwc:if={selectedresource}>
                                    <tbody>
                                        <tr class="slds-hint-parent">
                                            <th data-label="Rating Score" scope="row">
                                                <div class="slds-truncate" title="Technical Acumen">
                                                    <a href="javascript:void(0)">Technical Acumen [{SelectedResourceResourceRoleTechAcc}%]</a>
                                                </div>
                                            </th>
                                            <td data-label="Technical Acumen">
                                                <div class="slds-truncate">{wrapData.TechSkillData} ({wrapData.AvgTechSkillData})</div>
                                            </td>
                                        </tr>
                                        <tr class="slds-hint-parent">
                                            <th data-label="2" scope="row">
                                                <div class="slds-truncate" title="Professional Skills">
                                                    <a href="javascript:void(0)">Professional Skills [{SelectedResourceResourceRoleProfSkillAcc}%]</a>
                                                </div>
                                            </th>
                                            <td data-label="Professional Skills">
                                                <div class="slds-truncate">{wrapData.ProfSkillData} ({wrapData.AvgProfSkillData})</div>
                                            </td>
                                        </tr>
                                        <tr class="slds-hint-parent">
                                            <th data-label="3" scope="row">
                                                <div class="slds-truncate" title="Strategic Impact">
                                                    <a href="javascript:void(0)">Strategic Impact [{SelectedResourceResourceRoleStrategicAcc}%]</a>
                                                </div>
                                            </th>
                                            <td data-label="Strategic Impact">
                                                <div class="slds-truncate">{wrapData.StrategicData} ({wrapData.AvgStrategicData})</div>
                                            </td>
                                        </tr>
                                        <tr class="slds-hint-parent">
                                            <th data-label="4" scope="row">
                                                <div class="slds-truncate" title="Goals & Results">
                                                    <a href="javascript:void(0)">Goals & Results [{SelectedResourceResourceRoleGoalRewAcc}%]</a>
                                                </div>
                                            </th>
                                            <td data-label="Goals & Results">
                                                <div class="slds-truncate">{wrapData.GoalResultData} ({wrapData.AvgGoalResultData})</div>
                                            </td>
                                        </tr>
                                        <tr class="slds-hint-parent">
                                            <th data-label="5" scope="row">
                                                <div class="slds-truncate" title="Overall Rating">
                                                    <b><a href="javascript:void(0)">Overall Rating</a></b>
                                                </div>
                                            </th>
                                            <td data-label="Overall Average Rating">
                                                <div class="slds-truncate"><b>{wrapData.AreaWiseAvgRating}</b></div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </template>

                                <template lwc:elseif={CurrentUserConDetails}>
                                    <tbody>
                                        <tr class="slds-hint-parent">
                                            <th data-label="Rating Score" scope="row">
                                                <div class="slds-truncate" title="Technical Acumen">
                                                    <a href="javascript:void(0)">Technical Acumen [{CurrentUserResourceRoleTechAcc}%]</a>
                                                </div>
                                            </th>
                                            <td data-label="Technical Acumen">
                                                <div class="slds-truncate">{wrapData.TechSkillData} ({wrapData.AvgTechSkillData})</div>
                                            </td>
                                        </tr>
                                        <tr class="slds-hint-parent">
                                            <th data-label="2" scope="row">
                                                <div class="slds-truncate" title="Professional Skills">
                                                    <a href="javascript:void(0)">Professional Skills [{CurrentUserResourceRoleProfSkillAcc}%]</a>
                                                </div>
                                            </th>
                                            <td data-label="Professional Skills">
                                                <div class="slds-truncate">{wrapData.ProfSkillData} ({wrapData.AvgProfSkillData})</div>
                                            </td>
                                        </tr>
                                        <tr class="slds-hint-parent">
                                            <th data-label="3" scope="row">
                                                <div class="slds-truncate" title="Strategic Impact">
                                                    <a href="javascript:void(0)">Strategic Impact [{CurrentUserResourceRoleStrategicAcc}%]</a>
                                                </div>
                                            </th>
                                            <td data-label="Strategic Impact">
                                                <div class="slds-truncate">{wrapData.StrategicData} ({wrapData.AvgStrategicData})</div>
                                            </td>
                                        </tr>
                                        <tr class="slds-hint-parent">
                                            <th data-label="4" scope="row">
                                                <div class="slds-truncate" title="Goals & Results">
                                                    <a href="javascript:void(0)">Goals & Results [{CurrentUserResourceRoleGoalRewAcc}%]</a>
                                                </div>
                                            </th>
                                            <td data-label="Goals & Results">
                                                <div class="slds-truncate">{wrapData.GoalResultData} ({wrapData.AvgGoalResultData})</div>
                                            </td>
                                        </tr>
                                        <tr class="slds-hint-parent">
                                            <th data-label="5" scope="row">
                                                <div class="slds-truncate" title="Overall Rating">
                                                    <b><a href="javascript:void(0)">Overall Rating</a></b>
                                                </div>
                                            </th>
                                            <td data-label="Overall Average Rating">
                                                <div class="slds-truncate"><b>{wrapData.AreaWiseAvgRating}</b></div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </template>

                            </table>
                        </lightning-layout-item>
                    </lightning-layout>
                </div>

                <div class="footer">
                    <lightning-layout multiple-rows size='12' class="footer-layout">
                
                        <lightning-layout-item padding="around-small" size="3">
                            <lightning-button variant="" label="Previous" onclick={handlePreviousAction}
                                ></lightning-button>
                        </lightning-layout-item>
                
                        <lightning-layout-item padding="around-small" size="3">
                            <lightning-button variant="brand" label="Submit" onclick={handleSaveSubmitActionDuplicateOverAll}
                                disabled={isSubmitBtnDisabled} class={showSaveSubmitButtonsVisibility}></lightning-button>
                        </lightning-layout-item>
                
                    </lightning-layout>
                </div>

            </div>
        </template>
        <!-- OVERALL RATING SECTION -->

    </template>
     <!-- smaske : PM_Def_039 : Showing spinner and assigning the value of kraRecord later till data is fetched -->
    <template lwc:else>
        <lightning-spinner alternative-text="Please wait while the page is loading..." size="large"></lightning-spinner>
    </template>
    
</template>