<template>
    <div style="margin-bottom:15px">
        <img src={imageUrl} width="100%" />
    </div>
    <template if:true={isLoading}>
        <lightning-spinner alternative-text="Loading" size="medium" class="spinnerClass"></lightning-spinner>
    </template>
    <div class="slds-card slds-box slds-p-around_small">
        <div class="slds-p-around_xx-small">
            <div class="slds-grid slds-wrap">
                <div style="padding-right: 15px"
                    class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_3-of-12">
                    <!--Accordino Section Start-->
                    <lightning-accordion allow-multiple-sections-open onsectiontoggle={handleSectionToggle}
                        active-section-name={activeSections}>
                        <lightning-accordion-section name="Profile" label="Profile">
                            <div>
                                <div>
                                    <div class="slds-nav-vertical__section slds-p-around_small">
                                        <div>
                                            <fieldset class="slds-nav-vertical slds-nav-vertical_compact">
                                                <span class="slds-nav-vertical__item">
                                                    <input type="radio" id="Personal-Details" name="details"
                                                        value="Personal Details" onchange={selectedDetails} />
                                                    <!-- checked={isPersonaldetails} -->
                                                    <label class="slds-nav-vertical__action" for="Personal-Details">
                                                        <span class="slds-nav-vertical_radio-faux">Personal
                                                            Details</span>
                                                    </label>
                                                </span>
                                                <span class="slds-nav-vertical__item">
                                                    <input type="radio" id="Identity-Information" name="details"
                                                        value="Identity Information" onchange={selectedDetails} />
                                                    <label class="slds-nav-vertical__action" for="Identity-Information">
                                                        <span class="slds-nav-vertical_radio-faux">Identity
                                                            Information</span>
                                                    </label>
                                                </span>
                                                <span class="slds-nav-vertical__item">
                                                    <input type="radio" id="Address-Details" name="details"
                                                        value="Address Details" onchange={selectedDetails} />
                                                    <label class="slds-nav-vertical__action" for="Address-Details">
                                                        <span class="slds-nav-vertical_radio-faux">Address
                                                            Details</span>
                                                    </label>
                                                </span>
                                                <span class="slds-nav-vertical__item">
                                                    <input type="radio" id="Education-Details" name="details"
                                                        value="Education Details" onchange={selectedDetails} />
                                                    <label class="slds-nav-vertical__action" for="Education-Details">
                                                        <span class="slds-nav-vertical_radio-faux">Education
                                                            Details</span>
                                                    </label>
                                                </span>
                                                <span class="slds-nav-vertical__item">
                                                    <input type="radio" id="Other-Certifications" name="details"
                                                        value="Other Certifications" onchange={selectedDetails} />
                                                    <label class="slds-nav-vertical__action" for="Other-Certifications">
                                                        <span class="slds-nav-vertical_radio-faux">Other
                                                            Certifications</span>
                                                    </label>
                                                </span>
                                                <span class="slds-nav-vertical__item">
                                                    <input type="radio" id="Work-Experience" name="details"
                                                        value="Work Experience" onchange={selectedDetails} />
                                                    <label class="slds-nav-vertical__action" for="Work-Experience">
                                                        <span class="slds-nav-vertical_radio-faux">Work
                                                            Experience</span>
                                                    </label>
                                                </span>
                                            </fieldset>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </lightning-accordion-section>
                        <lightning-accordion-section name="Company Information" label="Company Information">
                            <div>
                                <div>
                                    <div class="slds-nav-vertical__section slds-p-around_small">
                                        <div>
                                            <fieldset class="slds-nav-vertical slds-nav-vertical_compact">
                                                <span class="slds-nav-vertical__item">
                                                    <input type="radio" id="Company-Information" name="details"
                                                        value="Company Information" onchange={selectedDetails} />
                                                    <label class="slds-nav-vertical__action" for="Company-Information">
                                                        <span class="slds-nav-vertical_radio-faux">Company
                                                            Information</span>
                                                    </label>
                                                </span>
                                            </fieldset>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </lightning-accordion-section>
                        <lightning-accordion-section name="Confirm" label="Submit">
                            <div>
                                <div>
                                    <div class="slds-nav-vertical__section slds-p-around_small">
                                        <div>
                                            <fieldset class="slds-nav-vertical slds-nav-vertical_compact">
                                                <span class="slds-nav-vertical__item">
                                                    <input type="radio" id="Confirm" name="details" value="Confirm"
                                                        onchange={selectedDetails} />
                                                    <label class="slds-nav-vertical__action" for="Confirm">
                                                        <span class="slds-nav-vertical_radio-faux">Submit</span>
                                                    </label>
                                                </span>
                                            </fieldset>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </lightning-accordion-section>
                    </lightning-accordion>
                    <!--Accordino Section Ends-->
                </div>
                <div style="border-left: solid 1px #b9b9b9"
                    class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_9-of-12">
                    <!--Personal Details Page Start-->
                    <template if:true={isShowPersonalDetails}>
                        <div class="slds-modal__content slds-p-around_medium">
                            <div>
                                <div class="slds-section slds-is-open">
                                    <h3 class="slds-section__title slds-theme_shade">
                                        <span class="slds-truncate slds-p-horizontal_small"
                                            title="Personal Details">Personal Details</span>
                                    </h3>
                                    <div aria-hidden="false" class="slds-section__content">
                                        <div class="slds-grid slds-gutters ">
                                            <div class="slds-col" style="padding-left: 25px;">
                                                <span>
                                                    <lightning-input class="slds-p-top_small" value={firstName}
                                                        message-when-pattern-mismatch="Invalid name" required
                                                        disabled={readonlyfield} onchange={FirstName} name="FirstName"
                                                        onkeydown={handleFirstLastNameKeyDown}
                                                        pattern="[A-Z a-z._-]{2,20}$" type="text"
                                                        label="First Name"></lightning-input>

                                                    <lightning-input class="slds-p-top_small" value={lastName}
                                                        message-when-pattern-mismatch="Invalid name" required
                                                        disabled={readonlyfield} onchange={LastName} name="LastName"
                                                        onkeydown={handleFirstLastNameKeyDown}
                                                        pattern="[A-Z a-z._-]{1,20}$" type="text"
                                                        label="Last Name"></lightning-input>

                                                    <lightning-input class="slds-p-top_small" value={dob} required
                                                        disabled={readonlyfield} onchange={DateofBirthValidation}
                                                        name="EMS_EM_DOB__c" type="date"
                                                        label="Date of Birth"></lightning-input>
                                                    <lightning-combobox class="slds-p-top_small" required
                                                        disabled={readonlyfield} name="EMS_EM_Gender__c" label="Gender"
                                                        value={gen} placeholder="Select" options={Gendervalue}
                                                        onchange={gender}></lightning-combobox>
                                                </span>
                                            </div>
                                            <div class="slds-col ">
                                                <span>
                                                    <lightning-input class="slds-p-top_small" value={ph}
                                                        message-when-pattern-mismatch="Please enter a valid 10 digit phone number"
                                                        required disabled={readonlyfield} onchange={phonenumber}
                                                        maxlength="10" name="Phone_Number__c"
                                                        onkeydown={handleAadharNumberKeyDown} pattern="[0-9]{10}$"
                                                        type="phone" label="Contact Number"></lightning-input>
                                                    <lightning-input class="slds-p-top_small" value={altphone}
                                                        message-when-pattern-mismatch="Invalid Phone number"
                                                        disabled={readonlyfield} pattern="[0-9]{10}$" maxlength="10"
                                                        onchange={altephone} onkeydown={handleAadharNumberKeyDown}
                                                        name="EMS_EM_Phone_Number__c" type="phone"
                                                        label="Alternate Contact Number"></lightning-input>
                                                    <lightning-input class="slds-p-top_small" value={personalemail}
                                                        message-when-pattern-mismatch="Invalid Email" required disabled
                                                        onchange={personalemailchange} name="EMS_EM_Personal_Email__c"
                                                        type="email" label="Personal Email ID"></lightning-input>

                                                    <lightning-input class="slds-p-top_small" value={nation}
                                                        disabled={readonlyfield} required onchange={Nationality}
                                                        onkeydown={handleFirstLastNameKeyDown}
                                                        name="EMS_EM_Nationality__c" type="text"
                                                        label="Nationality "></lightning-input>

                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br /><br />
                                <div class="slds-section slds-is-open">
                                    <h3 class="slds-section__title slds-theme_shade">
                                        <span class="slds-truncate slds-p-horizontal_small"
                                            title="Upload Documents">Upload Documents</span>
                                    </h3>
                                    <div style="padding-left: 25px;">
                                        <span>
                                            <label class="slds-form-element__label" for="text-input-id-1">
                                                <abbr class="slds-required" title="required">*</abbr>
                                                Passport Size Photo
                                            </label>
                                            <lightning-helptext
                                                content="The maximum file size is 2MB and the supported file type is image/JPG/PNG/JPEG"></lightning-helptext>

                                            <lightning-input type="file" onchange={onFileUpload2} name="PassportFile"
                                                title="Passport size photo" disabled={readonlyfield}
                                                multiple="true"></lightning-input>
                                            <p>{fileName2}</p>
                                            <br>
                                        </span>
                                    </div>
                                    <br />
                                    <div style="text-align: center">
                                        <lightning-button style="margin:5px;" label="Save" type="brand"
                                            onclick={SaveSubmitOnboarding} disabled={readonlyfield}
                                            variant="brand"></lightning-button>
                                    </div>
                                    <br><br>
                                </div>
                            </div>
                        </div>
                        <br /><br />
                    </template>
                    <!--Personal Details Page Ends-->
                    <!--Identify Details Page Start-->
                    <template if:true={isIdentifyDetails}>
                        <div class="slds-modal__content slds-p-around_medium">
                            <div class="slds-p-around_xx-small">
                                <div class="slds-section slds-is-open">
                                    <h3 class="slds-section__title slds-theme_shade">
                                        <span class="slds-truncate slds-p-horizontal_small"
                                            title="Identity Information">Identity Information</span>
                                    </h3>
                                    <div aria-hidden="false" class="slds-section__content">
                                        <div class="slds-grid slds-gutters ">
                                            <div class="slds-col" style="padding-left: 25px;">
                                                <span>
                                                    <lightning-input class="slds-p-top_small" value={aadhaarNo} required
                                                        pattern="[0-9]{12}$" disabled={readonlyfield}
                                                        onfocusin={handleAadharNumberFocusIn} maxlength="12"
                                                        message-when-pattern-mismatch="Invalid Aadhar Number"
                                                        onchange={handleAadharNumberChange}
                                                        onfocusout={handleAadharNumberFocusOut}
                                                        onkeydown={handleAadharNumberKeyDown} autocomplete="off"
                                                        name="EMS_EM_AadhaarNo__c" type="text"
                                                        label="Aadhaar Number"></lightning-input>
                                                </span>
                                            </div>
                                            <div class="slds-col ">
                                                <span>
                                                    <lightning-input class="slds-p-top_small panCard" value={panNo}
                                                        required disabled={readonlyfield}
                                                        onfocusin={handlePanNumberFocusIn} onchange={PANNumber}
                                                        onfocusout={handlePanNumberFocusOut} maxlength="10"
                                                        autocomplete="off" name="EMS_EM_PanNo__c" type="text"
                                                        label="PAN"></lightning-input>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br /><br />

                                <div class="slds-section slds-is-open">
                                    <h3 class="slds-section__title slds-theme_shade">
                                        <span class="slds-truncate slds-p-horizontal_small"
                                            title="Upload Documents">Upload Documents</span>
                                    </h3>
                                    <div aria-hidden="false" class="slds-section__content">
                                        <div class="slds-grid slds-gutters ">
                                            <div class="slds-col" style="padding-left: 25px;">
                                                <span>
                                                    <label class="slds-form-element__label" for="text-input-id-1">
                                                        <abbr class="slds-required" title="required">*</abbr>
                                                        Aadhaar Card
                                                    </label>
                                                    <lightning-helptext
                                                        content="The maximum file size is 2MB and the supported file type is PDF"></lightning-helptext>
                                                    <lightning-input type="file" name="aadharCard"
                                                        onchange={onFileUpload} accept={accept} title="Aadhaar Card"
                                                        disabled={readonlyfield}></lightning-input>
                                                    <p>{fileName}</p>
                                                    <br>
                                                </span>
                                            </div>
                                            <div class="slds-col">
                                                <span>
                                                    <label class="slds-form-element__label" for="text-input-id-1">
                                                        <abbr class="slds-required" title="required">*</abbr>
                                                        PAN Card
                                                    </label>
                                                    <lightning-helptext
                                                        content="The maximum file size is 2MB and the supported file type is PDF"></lightning-helptext>
                                                    <lightning-input type="file" onchange={onFileUpload1} name="panCard"
                                                        title="PAN Card" disabled={readonlyfield}
                                                        accept={accept}></lightning-input>
                                                    <p>{fileName1}</p>
                                                    <br>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br /><br />
                                <div style="text-align:center">
                                    <lightning-button style="margin:5px;" label="Save" type="brand"
                                        disabled={readonlyfield} onclick={SaveSubmitOnboarding}
                                        variant="brand"></lightning-button>
                                </div>
                            </div>
                        </div>
                    </template>
                    <!--Identify Details Page Ends-->
                    <!--Address Details Page Start-->
                    <template if:true={isAddressDetails}>
                        <div class="slds-modal__content slds-p-around_medium">
                            <div class="slds-p-around_xx-small">
                                <div class="slds-section slds-is-open">
                                    <h3 class="slds-section__title slds-theme_shade">
                                        <span class="slds-truncate slds-p-horizontal_small"
                                            title="Address Details">Address Details</span>
                                    </h3>
                                    <div aria-hidden="false" class="slds-section__content">
                                        <div class="slds-grid slds-gutters ">
                                            <div class="slds-col slds-size_1-of-2" style="padding-left: 25px;">
                                                <span>
                                                    <h3 class="slds-section__title slds-theme_shade">
                                                        <p>Current Address</p>
                                                    </h3>

                                                    <lightning-input class="slds-p-top_small addressClass"
                                                        value={cadrressline1} disabled={readonlyfield} required
                                                        onchange={handleChange} name="Current_Address_Line_1__c"
                                                        type="text" label="Address Line 1"></lightning-input>
                                                    <lightning-input class="slds-p-top_small " value={cadrressline2}
                                                        disabled={readonlyfield} onchange={handleChange}
                                                        name="Current_Address_Line_2__c" type="text"
                                                        label="Address Line 2"></lightning-input>
                                                    <lightning-input class="slds-p-top_small addressClass"
                                                        value={castate} pattern="[A-Z a-z._-]{2,20}$"
                                                        disabled={readonlyfield} required onchange={handleChange}
                                                        name="EMS_EM_CA_State__c" type="text"
                                                        label="State"></lightning-input>

                                                    <lightning-input class="slds-p-top_small addressClass"
                                                        value={cacity} pattern="[A-Z a-z._-]{2,20}$"
                                                        disabled={readonlyfield} required onchange={handleChange}
                                                        name="EMS_EM_CA_City__c" type="text"
                                                        label="City"></lightning-input>

                                                    <lightning-input class="slds-p-top_small addressClass" value={cazip}
                                                        disabled={readonlyfield} onkeydown={handleAadharNumberKeyDown}
                                                        maxlength="6" required onchange={handleChange}
                                                        name="EMS_EM_CA_Zip__c" type="text"
                                                        label="Zip"></lightning-input>
                                                    <br>
                                                    <div class="slds-grid slds-wrap">
                                                        <div class="slds-col slds-size_1-of-13 slds-p-right_x-small">
                                                            Permanent Address same as Current Address?
                                                        </div>
                                                        <div class="slds-col slds-size_1-of-12">
                                                            <lightning-input type="Checkbox" disabled={disableFlag}
                                                                checked={paFlag}
                                                                onchange={AddressCheckboxChange}></lightning-input>
                                                        </div>
                                                    </div>
                                                </span>
                                            </div>
                                            <div class="slds-col slds-size_1-of-2">
                                                <span>
                                                    <h3 class="slds-section__title slds-theme_shade">
                                                        <p>Permanent Address</p>
                                                    </h3>
                                                    <lightning-input class="slds-p-top_small" value={padrressline1}
                                                        disabled={readonlyfield1} required onchange={handleChange}
                                                        name="Permanent_Address_Line_1__c" type="text"
                                                        label="Address Line 1"></lightning-input>
                                                    <lightning-input class="slds-p-top_small" value={padrressline2}
                                                        disabled={readonlyfield1} onchange={handleChange}
                                                        name="Permanent_Address_Line_2__c" type="text"
                                                        label="Address Line 2"></lightning-input>

                                                    <lightning-input class="slds-p-top_small" value={pastate}
                                                        pattern="[A-Z a-z._-]{2,20}$" disabled={readonlyfield1} required
                                                        onchange={handleChange} name="EMS_EM_PA_State__c" type="text"
                                                        label="State"></lightning-input>
                                                    <lightning-input class="slds-p-top_small" value={pacity}
                                                        pattern="[A-Z a-z._-]{2,20}$" disabled={readonlyfield1} required
                                                        onchange={handleChange} name="EMS_EM_PA_City__c" type="text"
                                                        label="City"></lightning-input>
                                                    <lightning-input class="slds-p-top_small" value={pazip}
                                                        onkeydown={handleAadharNumberKeyDown} disabled={readonlyfield1}
                                                        maxlength="6" onchange={handleChange} required
                                                        name="EMS_EM_PA_Zip__c" type="text"
                                                        label="Zip"></lightning-input>
                                                </span>
                                            </div>
                                        </div>
                                        <br /><br />
                                        <div style="text-align:center">
                                            <lightning-button style="margin:5px;" label="Save" type="brand"
                                                onclick={SaveSubmitOnboarding} disabled={readonlyfield}
                                                variant="brand"></lightning-button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </template>
                    <!--Address Details Page Ends-->
                    <!--Education Details Page Start-->
                    <template if:true={isEducationDetails}>
                        <div class="slds-modal__content slds-p-around_medium">
                            <h3 class="slds-section__title slds-theme_shade">
                                <span class="slds-truncate slds-p-horizontal_small"
                                    title="Educational Details">Education Details</span>
                            </h3>
                            <lightning-card>


                                <!-- Use a template to iterate over the records array and display each row -->
                                <template for:each={educationDetails} for:item="obj">
                                    <div key={obj.Id} class="slds-grid slds-gutters">
                                        <div class="slds-col " style="padding-left: 25px;">
                                            <h3 class="slds-section-title--divider" style="padding-left: 0px;">
                                                <span class="slds-truncate">Education Details ({obj.index})</span>
                                            </h3>
                                            <span>
                                                <lightning-combobox class="fields" value={obj.EMS_EM_Education__c}
                                                    data-id={obj.Id} required onchange={eduupdateValues}
                                                    options={LevelofEducationValue} placeholder="Select"
                                                    name="EMS_EM_Education__c" label="Level of Education"
                                                    disabled={readonlyfield}></lightning-combobox>

                                                <lightning-input class="fields" value={obj.EMS_EM_Field_of_Study__c}
                                                    data-id={obj.Id} onchange={eduupdateValues}
                                                    name="EMS_EM_Field_of_Study__c" type="Text" label="Field of Study"
                                                    disabled={readonlyfield}></lightning-input>
                                                <lightning-input class="fields" value={obj.EMS_EM_GDate__c}
                                                    data-id={obj.Id} onchange={eduupdateValues} name="EMS_EM_GDate__c"
                                                    type="date" label="Graduation Date" required
                                                    disabled={readonlyfield}></lightning-input>
                                            </span>
                                            <br>
                                        </div>
                                        <div class="slds-col " style="padding-top: 15px;">
                                            <h3 class="slds-section-title--divider">
                                                <span class="slds-truncate">
                                                </span>
                                            </h3>
                                            <span>
                                                <lightning-input class="fields" required value={obj.EMS_EM_Degree__c}
                                                    data-id={obj.Id} onchange={eduupdateValues} name="EMS_EM_Degree__c"
                                                    type="text" label="Degree"
                                                    disabled={readonlyfield}></lightning-input>
                                                <lightning-input class="fields" required value={obj.EMS_EM_IName__c}
                                                    data-id={obj.Id} onchange={eduupdateValues} name="EMS_EM_IName__c"
                                                    type="Text" label="Institution Name"
                                                    disabled={readonlyfield}></lightning-input>

                                            </span>
                                        </div>
                                        <div class="slds-col slds-size_2-of-12" style="padding-top: 55px;">
                                            <template if:true={obj.isDelete}>
                                                <lightning-button-icon class="slds-icon-text-error"
                                                    icon-name="action:delete" disabled={readonlyfield}
                                                    alternative-text="Delete" title="Delete" data-id={obj.Id}
                                                    onclick={handleDeleteEduAction}></lightning-button-icon>
                                            </template>
                                        </div>

                                    </div>
                                </template>
                                <div>
                                    <lightning-button class="slds-m-left_xx-small" disabled={readonlyfield}
                                        style="padding-left: 11px;" label="Add More" slot="actions"
                                        icon-name="utility:add" onclick={addRowEdu}></lightning-button>
                                    <div class="slds-section slds-is-open">
                                        <h3 class="slds-section__title slds-theme_shade">
                                            <span class="slds-truncate slds-p-horizontal_small">Upload
                                                Certificates</span>
                                            <lightning-helptext
                                                content="You can upload multiple files in PDF or Zip file format up to a total of 20 MB."></lightning-helptext>
                                        </h3>
                                        <div style="padding-left: 14px;">
                                            <lightning-input type="file" name="Certificates"
                                                label="Attachment: Please upload certificates for each educational detail you are adding."
                                                required={isUploadEduReq} accept=".pdf, .zip" disabled={readonlyfield}
                                                onchange={handleFileUploaded} multiple>
                                            </lightning-input>
                                            <template if:true={filesData}>
                                                <template for:each={filesData} for:item="imgName" for:index="index">
                                                    {imgName.fileName}
                                                    <span key={imgName.fileName} data-id={index}
                                                        onclick={removeReceiptImage} class="removeImage">x</span> &nbsp;
                                                </template>
                                            </template>
                                        </div>
                                    </div>
                                    <div style="padding-left: 14px; padding-right: 188px;">
                                        <lightning-card>
                                            <template if:true={dataPFList}>
                                                <h1>Uploaded Certificates:</h1>
                                                <div class="slds-box slds-m-vertical_x-small">
                                                    <template for:each={dataPFList} for:item="file">
                                                        <div key={file.Id}>
                                                            <div class="slds-grid slds-wrap">
                                                                <p><strong>File Name </strong>- {file.Title}</p>
                                                            </div>
                                                        </div>
                                                    </template>
                                                </div>
                                            </template>
                                        </lightning-card>
                                    </div>

                                    <br /><br />
                                </div>
                            </lightning-card>
                            <br><br>
                            <div slot="footer" style="text-align:center">
                                <lightning-button style="margin:5px;" variant="brand" label="Save"
                                    onclick={handleSaveEduAction} disabled={readonlyfield}></lightning-button>
                            </div>
                            <br><br>
                        </div>
                    </template>
                    <!--Education Details Code Ends here-->
                    <!--Other Certification Code Starts here-->
                    <template if:true={isOtherCertifications}>
                        <div class="slds-section slds-is-open">
                            <div class="slds-p-around_xx-small">
                                <h3 class="slds-section__title slds-theme_shade">
                                    <span class="slds-truncate slds-p-horizontal_small"
                                        title="Certification Documents">Other Certification Documents</span>
                                </h3>
                                <div class="slds-p-around_none slds-m-top_x-small slds-m-bottom_medium slds-m-horizontal_none modalBodyy"
                                    style="padding-left: 15px; ">
                                    <div class="slds-grid slds-gutters ">
                                        <div class="slds-col slds-size_1-of-2" style="padding-left: 25px;">
                                            <lightning-input type="url" class="slds-p-top_small" value={Trailblazerval}
                                                disabled={readonlyfield} onchange={TrailblazerIDorPublic}
                                                name="Trailblazer_ID_or_Public_URL__c"
                                                label="Trailblazer ID or Public URL"> </lightning-input>
                                        </div>
                                    </div>
                                    <lightning-card>
                                        <lightning-button style="padding-right: 15px; " label="Add Certifications"
                                            slot="actions" disabled={readonlyfield} icon-name="utility:add"
                                            onclick={addRow}></lightning-button>
                                        <div class="slds-m-around_medium" style="padding-right: 15px; ">
                                            <table class="slds-table slds-table_cell-buffer slds-table_bordered"
                                                aria-labelledby="element-with-table-label other-element-with-table-label">
                                                <thead>
                                                    <tr class="slds-text-title_caps">
                                                        <th scope="col">
                                                            <div class="slds-truncate" title="Certification Name">
                                                                Certification Name</div>
                                                        </th>
                                                        <template if:true={otherfield}>
                                                            <th scope="col">
                                                                <div class="slds-truncate" title="Other">
                                                                    Other</div>
                                                            </th>
                                                        </template>
                                                        <th scope="col">
                                                            <div class="slds-truncate" title="Completion Date">
                                                                Completion Date</div>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <template for:each={records} for:item="obj">
                                                        <tr class="inputRows" key={obj.Id}>
                                                            <td>
                                                                <lightning-combobox class="fields"
                                                                    variant="label-hidden"
                                                                    value={obj.Certification_Name__c} data-id={obj.Id}
                                                                    onchange={updateValues} options={certificationName}
                                                                    required placeholder="Select" dropdown-alignment="bottom-left"
                                                                    name="Certification_Name__c"
                                                                    disabled={readonlyfield}
                                                                    label="Certification Name"></lightning-combobox>
                                                            </td>
                                                            <template if:true={obj.otherfield}>
                                                                <td>
                                                                    <lightning-input class="fields"
                                                                        variant="label-hidden" value={obj.Other__c}
                                                                        data-id={obj.Id} onchange={updateValues}
                                                                        name="Other__c" required type="text"
                                                                        disabled={readonlyfield}
                                                                        label="Other"></lightning-input>
                                                                </td>
                                                            </template>

                                                            <td>
                                                                <lightning-input class="fields" variant="label-hidden"
                                                                    value={obj.Completion_Date__c} data-id={obj.Id}
                                                                    onchange={updateValues} name="Completion_Date__c"
                                                                    required type="date" disabled={readonlyfield}
                                                                    label="Completion Date"></lightning-input>
                                                            </td>

                                                            <td>
                                                                <lightning-button-icon icon-name="action:delete"
                                                                    class="slds-icon-text-error"
                                                                    disabled={readonlyfield} alternative-text="Delete"
                                                                    title="Delete" data-id={obj.Id}
                                                                    variant="destructive"
                                                                    onclick={handleDeleteAction}></lightning-button-icon>
                                                            </td>
                                                        </tr>
                                                    </template>
                                                </tbody>
                                            </table>
                                        </div>
                                    </lightning-card>
                                </div>
                                <br><br>
                                <div slot="footer" style="text-align:center">
                                    <lightning-button style="margin:5px;" variant="brand" label="Save"
                                        onclick={handleSaveAction} disabled={readonlyfield}></lightning-button>
                                </div>
                                <br><br>
                            </div>
                        </div>
                    </template>
                    <!-- other certification details ends -->
                    <!-- Work Experience details starts -->
                    <template if:true={isWorkExperience}>
                        <div class="slds-modal__content slds-p-around_medium" style="padding-left: 25px;">
                            <div class="slds-p-around_xx-small">
                                <h3 class="slds-section__title slds-theme_shade">
                                    <span class="slds-truncate slds-p-horizontal_small" title="Work Experience">Work
                                        Experience</span>
                                </h3>
                                <template if:true={isLoading}>
                                    <lightning-spinner alternative-text="Loading" size="medium"
                                        class="spinnerClass"></lightning-spinner>
                                </template>
                                <div class="slds-grid slds-wrap" style="padding-left: 25px;">
                                    <div style="padding-top: 6px"
                                        class="slds-col slds-size_1-of-13 slds-p-right_x-small">
                                        <h2><abbr class="slds-required" title="required">*</abbr>
                                            Do you have work experience?</h2>
                                    </div> &nbsp;
                                    <div class="slds-col slds-size_1-of-12">
                                        <lightning-combobox class="fields" variant="label-hidden" value={doYouHaveExp}
                                            options={DoyouName} onchange={experienceChange} required
                                            placeholder="Select" onclick={handleDeleteAllWorkAction}
                                            name="Do_you_have_work_experience__c" disabled={readonlyfield}
                                            label="Do you have work experience"></lightning-combobox>
                                    </div>
                                </div>
                                <template if:true={showExperienceyouhave}>
                                    <lightning-card>
                                        <!-- Use a template to iterate over the records array and display each row -->
                                        <template for:each={workDetails} for:item="obj">
                                            <div key={obj.Id} class="slds-grid slds-gutters">
                                                <div class="slds-col " style="padding-left: 25px;">
                                                    <h3 class="slds-section-title--divider" style="padding-left: 0px;">
                                                        <span class="slds-truncate">Work Experience ({obj.index1})</span>
                                                    </h3>
                                                    <span>
                                                        <lightning-input disabled={readonlyfield}
                                                            onchange={workUpdateValues} required
                                                            name="EMS_EM_Job_Title__c" type="text" data-id={obj.Id}
                                                            onkeydown={handleFirstLastNameKeyDown}
                                                            value={obj.EMS_EM_Job_Title__c}
                                                            label="Job Title "></lightning-input>
                                                        <lightning-input class="slds-p-top_small"
                                                            disabled={readonlyfield} required
                                                            onchange={workUpdateValues} data-id={obj.Id}
                                                            name="EMS_EM_From_Date__c" type="date"
                                                            value={obj.EMS_EM_From_Date__c}
                                                            label="From Date"></lightning-input>
                                                        <template if:true={obj.isHide}>
                                                        <lightning-input required class="slds-p-top_small"
                                                            disabled={readonlyfield} onchange={workUpdateValues}
                                                            data-id={obj.Id}
                                                            name="EMS_EM_Previous_Company_HR_EmailId__c" type="email"
                                                            value={obj.EMS_EM_Previous_Company_HR_EmailId__c}
                                                            label="Previous Company HR Email ID"></lightning-input>
                                                        </template>
                                                    </span>
                                                    <br>
                                                </div>
                                                <div class="slds-col " style="padding-top: 15px;">
                                                    <h3 class="slds-section-title--divider">
                                                        <span class="slds-truncate"> </span>
                                                    </h3>
                                                    <span>
                                                        <lightning-input required disabled={readonlyfield}
                                                            data-id={obj.Id} onchange={workUpdateValues}
                                                            value={obj.EMS_EM_Previous_Company_Name__c}
                                                            name="EMS_EM_Previous_Company_Name__c" type="text"
                                                            label="Previous Company Name"></lightning-input>
                                                        <lightning-input class="slds-p-top_small"
                                                            disabled={readonlyfield} data-id={obj.Id} required
                                                            onchange={workUpdateValues} name="EMS_EM_To_Date__c"
                                                            value={obj.EMS_EM_To_Date__c} type="date"
                                                            label="To Date"></lightning-input>
                                                    </span>
                                                    <br>
                                                </div>
                                                <div class="slds-col slds-size_2-of-12" style="padding-top: 55px;">
                                                    <template if:true={obj.isDelete1}>
                                                        <lightning-button-icon icon-name="action:delete"
                                                            disabled={readonlyfield} class="slds-icon-text-error"
                                                            alternative-text="Delete" title="Delete" data-id={obj.Id}
                                                            onclick={handleDeleteWorkAction}></lightning-button-icon>
                                                    </template>
                                                </div>
                                            </div>
                                        </template>
                                        <div>
                                            <lightning-button class="slds-m-left_xx-small" disabled={readonlyfield}
                                                style="padding-left: 9px;" label="Add More" slot="actions"
                                                icon-name="utility:add" onclick={addRowWork}></lightning-button>
                                            <div class="slds-section slds-is-open">
                                                <h3 class="slds-section__title slds-theme_shade">
                                                    <span class="slds-truncate slds-p-horizontal_small">Upload
                                                        Documents</span>
                                                    <lightning-helptext
                                                        content="You can upload multiple files in PDF or Zip file format up to a total of 20 MB."></lightning-helptext>
                                                </h3>
                                                <div style="padding-left: 14px;">
                                                    <lightning-input type="file" name="Documents"
                                                        label="Attachment: For the latest work experience, please make sure to upload the Appointment Letter and Last 6 months' payslips. For the older ones, we only need the Experience Letter."
                                                        required={isUploadReq} accept=".pdf, .zip"
                                                        disabled={readonlyfield} onchange={handleDocFileUploaded}
                                                        multiple>
                                                    </lightning-input>
                                                    <template if:true={filesDocData}>
                                                        <template for:each={filesDocData} for:item="imgName"
                                                            for:index="index">
                                                            {imgName.fileName}
                                                            <span key={imgName.fileName} data-id={index}
                                                                onclick={removedocReceiptImage}
                                                                class="removeImage">x</span> &nbsp;
                                                        </template>
                                                    </template>
                                                </div>
                                            </div>
                                            <div style="padding-left: 14px; padding-right: 178px;">
                                                <lightning-card>
                                                    <template if:true={dataDocList}>
                                                        <h1>Uploaded Documents:</h1>
                                                        <div class="slds-box slds-m-vertical_x-small">
                                                            <template for:each={dataDocList} for:item="file">
                                                                <div key={file.Id}>
                                                                    <div class="slds-grid slds-wrap">
                                                                        <p><strong>File Name </strong>- {file.Title}</p>
                                                                    </div>
                                                                </div>
                                                            </template>
                                                        </div>
                                                    </template>
                                                </lightning-card>
                                            </div>
                                        </div>
                                    </lightning-card>

                                </template>
                                <br><br>
                                <div slot="footer" style="text-align:center">
                                    <lightning-button style="margin:5px;" variant="brand" label="Save"
                                        onclick={handleSaveWorkAction} disabled={readonlyfield}></lightning-button>
                                </div>
                                <br><br>
                            </div>
                        </div>
                    </template>
                    <!--Company Information Page Starts-->
                    <template if:true={isCompanyInformation}>
                        <div class="slds-modal__content slds-p-around_medium">
                            <div class="slds-p-around_xx-small">
                                <div style="padding-left: 25px;">
                                    <br>
                                    <template if:true={companyInformation}>
                                        <strong>
                                            <h1>{companyInformation.Grid_Configuration_Type__c}</h1>
                                        </strong>
                                        <lightning-formatted-rich-text
                                            value={companyInformation.Description__c}></lightning-formatted-rich-text>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </template>
                    <!--Company Information Page Ends-->
                    <template if:true={isConfirm}>
                        <div class="slds-p-around_medium">
                            <div class="slds-p-around_xx-small">
                                <lightning-accordion allow-multiple-sections-open onsectiontoggle={handleSectionToggle}
                                    active-section-name={activeSectionsConfirm}>
                                    <lightning-accordion-section name="Profile" label="Profile">
                                        <div class="slds-box">
                                            <div class="slds-grid slds-wrap"
                                                style="margin-right: 300px;margin-right: 300px;margin-left: 300px;font-size: 14px;line-height: 30px;">
                                                <div
                                                    class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_9-of-12">
                                                    <p>Personal Details</p>
                                                </div>
                                                <div
                                                    class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_3-of-12">
                                                    <template if:true={isPersonalUpdateCheckbox}>
                                                        <img src={correctImages} alt="correct" width="22" height="21">
                                                    </template>
                                                    <template if:false={isPersonalUpdateCheckbox}>
                                                        <img src={wrongImages} alt="correct" width="19" height="19">
                                                    </template>
                                                </div>
                                                <div
                                                    class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_9-of-12">
                                                    <p>Identity Information</p>
                                                </div>
                                                <div
                                                    class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_3-of-12">
                                                    <template if:true={isIdentifyDetailsCheckbox}>
                                                        <img src={correctImages} alt="correct" width="22" height="21">
                                                    </template>
                                                    <template if:false={isIdentifyDetailsCheckbox}>
                                                        <img src={wrongImages} alt="correct" width="19" height="19">
                                                    </template>
                                                </div>
                                                <div
                                                    class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_9-of-12">
                                                    <p>Address Details</p>
                                                </div>
                                                <div
                                                    class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_3-of-12">
                                                    <template if:true={isAddressDetailsCheckbox}>
                                                        <img src={correctImages} alt="correct" width="22" height="21">
                                                    </template>
                                                    <template if:false={isAddressDetailsCheckbox}>
                                                        <img src={wrongImages} alt="correct" width="19" height="19">
                                                    </template>
                                                </div>
                                                <div
                                                    class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_9-of-12">
                                                    <p>Education Details</p>
                                                </div>
                                                <div
                                                    class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_3-of-12">
                                                    <template if:true={isEducationDetailsCheckbox}>
                                                        <img src={correctImages} alt="correct" width="22" height="21">
                                                    </template>
                                                    <template if:false={isEducationDetailsCheckbox}>
                                                        <img src={wrongImages} alt="correct" width="19" height="19">
                                                    </template>
                                                </div>
                                                <div
                                                    class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_9-of-12">
                                                    <p>Other Certifications</p>
                                                </div>
                                                <div
                                                    class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_3-of-12">
                                                    <template if:true={isOtherCertificationsCheckbox}>
                                                        <img src={correctImages} alt="correct" width="22" height="21">
                                                    </template>
                                                    <template if:false={isOtherCertificationsCheckbox}>
                                                        <img src={wrongImages} alt="correct" width="19" height="19">
                                                    </template>
                                                </div>
                                                <div
                                                    class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_9-of-12">
                                                    <p>Work Experience</p>
                                                </div>
                                                <div
                                                    class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_3-of-12">
                                                    <template if:true={isWorkExperienceCheckbox}>
                                                        <img src={correctImages} alt="correct" width="22" height="21">
                                                    </template>
                                                    <template if:false={isWorkExperienceCheckbox}>
                                                        <img src={wrongImages} alt="correct" width="19" height="19">
                                                    </template>
                                                </div>

                                            </div>
                                        </div>
                                    </lightning-accordion-section>
                                    <lightning-accordion-section name="Company Information" label="Company Information">
                                        <div class="slds-box">
                                            <div class="slds-grid slds-wrap"
                                                style="margin-right: 300px;margin-right: 300px;margin-left: 300px;font-size: 14px;line-height: 30px;">
                                                <div
                                                    class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_9-of-12">
                                                    <p>Company Information</p>
                                                </div>
                                                <div
                                                    class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_3-of-12">
                                                    <template if:true={isCompanyInformationValueChecked}>
                                                        <img src={correctImages} alt="correct" width="22" height="21">
                                                    </template>
                                                    <template if:false={isCompanyInformationValueChecked}>
                                                        <img src={wrongImages} alt="correct" width="19" height="19">
                                                    </template>
                                                </div>
                                            </div>
                                        </div>
                                    </lightning-accordion-section>
                                </lightning-accordion>
                                <br>
                                <br>
                                <div style="text-align:center;margin-bottom:10px">
                                    <template lwc:if={expression1}>
                                        <lightning-icon icon-name='utility:success' alternative-text='success'
                                            variant='success' size='large' title='success'></lightning-icon>
                                        <h1>
                                            <div class="slds-align_absolute-center">Thank You</div>
                                        </h1>
                                        <div class="slds-align_absolute-center">The form has been submitted
                                            successfully.</div>
                                    </template>
                                    <template lwc:else>
                                        <lightning-button style="margin:5px;" label="Submit" type="brand"
                                            onclick={confirmSubmit} disabled={buttonDisable}
                                            variant="brand"></lightning-button>
                                    </template>
                                </div>
                            </div>
                            <br>
                            <br>
                        </div>
                    </template>
                </div>
            </div>
        </div>
    </div>
</template>