<template>
	<lightning-button variant="destructive" onclick={handleClick} label="New Service Request"
		title="New Service Request" icon-name="utility:case" class="slds-m-left_x-small"></lightning-button>
	<template if:true={openModal}>
		<div data-modal="custom-modal" class="modalclass">
			<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
				aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
				<div class="slds-modal__container">
					<header class="slds-modal__header">
						<lightning-button-icon icon-name="utility:close" class="slds-modal__close "
							alternative-text="Close" title="Close" size="large" variant="bare-inverse"
							onclick={handleCancel}>

						</lightning-button-icon>
						<font size="5">New Service Request</font>
					</header>
					<div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
						<template if:true={showoption}>
							<div style="padding-left:200px;font-size:16px;">
								<lightning-radio-group name="Type of Request" label="What do you want to apply for ?"
									options={options} value={value} onchange={handleChange} required type="radio">
								</lightning-radio-group>
							</div>
						</template>
						<template if:true={showcod}>
							<c-service-request-change-details-form request-type={value}
								req-sub-type-values={dependentValues} onmycustomevent={handleCustomEvent} contact-record={conrecord}></c-service-request-change-details-form>
						</template>

						<template if:true={showrsl}>
							<c-service-request-leave-types-form request-type={value}
								leave-type-values={dependentValues} contact-record={conrecord}></c-service-request-leave-types-form>
						</template>

						<template if:true={showresignation}>
							<c-service-request-resignation-form request-type={value}
								req-sub-type-values={dependentValues} contact-record={conrecord}> </c-service-request-resignation-form>
						</template>

						<template if:true={showothers}>
							<lightning-record-edit-form object-api-name="Case" onsuccess={handleSuccess}
								onerror={handleError}>
								<lightning-messages> </lightning-messages>
								<lightning-layout multiple-rows>
									<lightning-layout-item flexibility="auto" style="width:50%" class="slds-p-around_xx-small">
										<lightning-input-field field-name="Subject" required
											onchange={handleTypeChange}></lightning-input-field>
									</lightning-layout-item>
									<lightning-layout-item flexibility="auto" style="width:50%" class="slds-p-around_xx-small">
										<lightning-input-field field-name="Type" value={value} disabled>
										</lightning-input-field>
									</lightning-layout-item>
								</lightning-layout>

								<lightning-layout>
									<lightning-layout-item flexibility="auto" style="width:50%" class="slds-p-around_xx-small">
										<lightning-input-field field-name="Description" required>
										</lightning-input-field>
									</lightning-layout-item>
									<lightning-layout-item flexibility="auto" style="width:50%" class="slds-p-around_xx-small">
										<lightning-input-field field-name="Request_Sub_Type__c" required>
										</lightning-input-field>
									</lightning-layout-item>
								</lightning-layout>

								<lightning-layout>
									<lightning-layout-item flexibility="auto" style="width:50%" class="slds-p-around_xx-small">
										<lightning-input-field field-name="Status" value="New" disabled>
										</lightning-input-field>
									</lightning-layout-item>
									<lightning-layout-item flexibility="auto" style="width:50%" class="slds-p-around_xx-small">
										<lightning-input-field field-name="Origin" value="Grid Portal" disabled>
										</lightning-input-field>
									</lightning-layout-item>
								</lightning-layout>

								<lightning-layout>

									<lightning-layout-item flexibility="auto" style="width:50%" class="slds-p-around_xx-small">
										<lightning-input-field field-name="ContactId" value={mycontactid} disabled>
										</lightning-input-field>
									</lightning-layout-item>
									<lightning-layout-item flexibility="auto" style="width:50%" class="slds-p-around_xx-small">
										<lightning-input-field field-name="AccountId" value={myaccountid} disabled>
										</lightning-input-field>
									</lightning-layout-item>
								</lightning-layout>

								<center>
									<lightning-button label="Close" title="Close" icon-name="utility:close"
										onclick={handleCancel}></lightning-button>
									&nbsp;&nbsp; &nbsp;&nbsp; <lightning-button class="slds-m-top_small" variant="brand"
										type="submit" name="update" label="Save">
									</lightning-button>
								</center>
							</lightning-record-edit-form>
						</template>
						
						<template if:true={showproblems}>
							<lightning-record-edit-form object-api-name="Case" onsuccess={handleSuccess}
								onerror={handleError}>
								<lightning-messages> </lightning-messages>
								<lightning-layout>
									<lightning-layout-item flexibility="auto" style="width:50%" class="slds-p-around_xx-small">
										<lightning-input-field field-name="Subject" required
											onchange={handleTypeChange}></lightning-input-field>
									</lightning-layout-item>
									<lightning-layout-item flexibility="auto" style="width:50%" class="slds-p-around_xx-small">
										<lightning-input-field field-name="Type" value={value} disabled>
										</lightning-input-field>
									</lightning-layout-item>
								</lightning-layout>

								<lightning-layout>
									<lightning-layout-item flexibility="auto" style="width:50%" class="slds-p-around_xx-small">
										<lightning-input-field field-name="Description" required>
										</lightning-input-field>
									</lightning-layout-item>
									<lightning-layout-item flexibility="auto" style="width:50%" class="slds-p-around_xx-small">
										<lightning-input-field field-name="Request_Sub_Type__c" required>
										</lightning-input-field>
									</lightning-layout-item>
								</lightning-layout>

								<lightning-layout>
									<lightning-layout-item flexibility="auto" style="width:50%" class="slds-p-around_xx-small">
										<lightning-input-field field-name="Status" value="New" disabled>
										</lightning-input-field>
									</lightning-layout-item>
									<lightning-layout-item flexibility="auto" class="slds-p-around_xx-small">
										<lightning-input-field field-name="Origin" value="Grid Portal" disabled>
										</lightning-input-field>
									</lightning-layout-item>
								</lightning-layout>

								<lightning-layout>

									<lightning-layout-item flexibility="auto" style="width:50%" class="slds-p-around_xx-small">
										<lightning-input-field field-name="ContactId" value={mycontactid} disabled>
										</lightning-input-field>
									</lightning-layout-item>
									<lightning-layout-item flexibility="auto" style="width:50%" class="slds-p-around_xx-small">
										<lightning-input-field field-name="AccountId" value={myaccountid} disabled>
										</lightning-input-field>
									</lightning-layout-item>
								</lightning-layout>

								<center>
									<lightning-button label="Close" title="Close" icon-name="utility:close"
										onclick={handleCancel}></lightning-button>
									&nbsp;&nbsp; &nbsp;&nbsp; <lightning-button class="slds-m-top_small" variant="brand"
										type="submit" name="update" label="Save">
									</lightning-button>
								</center>
							</lightning-record-edit-form>
						</template>
						<template if:true={showfeaturerequest}>
							feature request
						</template>
						<template if:true={showoption}>
							<div style="float: right;float: right;">
								<lightning-button variant="brand" label="Next" title="Next" onclick={handleNextClick}>
								</lightning-button>
								&nbsp;&nbsp;&nbsp;&nbsp;<lightning-button variant="neutral" label="Cancel"
									title="Cancel" onclick={handleCancel}></lightning-button>
							</div>
						</template>
					</div>


				</div>
			</section>
			<div class="slds-backdrop slds-backdrop_open"></div>
		</div>
	</template>

</template>